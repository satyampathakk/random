*{margin:0;padding:0;box-sizing:border-box}
:root{--primary:#6366f1;--primary-glow:rgba(99,102,241,.5);--accent:#a855f7;--bg:#050510;--card:#0d0d20;--card-border:#1a1a35;--input:#12122a;--text:#fff;--text-dim:#9ca3af;--success:#22c55e;--danger:#ef4444}
html,body{height:100%;overflow:hidden;-webkit-overflow-scrolling:touch}
body{font-family:'Poppins',system-ui,sans-serif;background:var(--bg);color:var(--text)}

.app{height:100%;width:100%;position:relative;overflow:hidden}
.screen{display:none;height:100%;width:100%;position:absolute;inset:0;overflow:hidden}
.screen.active{display:flex}

/* Background Effects */
.bg-effects{position:absolute;inset:0;overflow:hidden;pointer-events:none}
.blob{position:absolute;border-radius:50%;filter:blur(80px);opacity:.5;animation:float 8s ease-in-out infinite}
.blob-1{width:300px;height:300px;background:var(--primary);top:-100px;left:-100px}
.blob-2{width:250px;height:250px;background:var(--accent);bottom:-50px;right:-50px}
.blob-3{width:200px;height:200px;background:#ec4899;top:50%;left:50%;transform:translate(-50%,-50%)}
@keyframes float{0%,100%{transform:translate(0,0) scale(1)}50%{transform:translate(20px,20px) scale(1.05)}}

/* Landing */
#landing-screen{align-items:center;justify-content:center;background:var(--bg);overflow-y:auto}
.landing-wrapper{position:relative;z-index:1;display:flex;flex-direction:column;align-items:center;padding:16px;width:100%;max-width:480px;min-height:100%;justify-content:center;gap:16px}

.brand{text-align:center}
.logo-box{width:64px;height:64px;background:linear-gradient(135deg,var(--primary),var(--accent));border-radius:20px;display:flex;align-items:center;justify-content:center;margin:0 auto 12px;font-size:32px;box-shadow:0 8px 30px var(--primary-glow);animation:glow 3s ease-in-out infinite}
@keyframes glow{0%,100%{box-shadow:0 8px 30px var(--primary-glow)}50%{box-shadow:0 12px 50px var(--primary-glow)}}
.brand h1{font-size:2rem;font-weight:800;background:linear-gradient(135deg,#fff 0%,#c4b5fd 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:-1px}
.brand h1 span{background:linear-gradient(135deg,var(--accent),#ec4899);-webkit-background-clip:text;background-clip:text}
.tagline{color:var(--text-dim);font-size:.9rem;font-weight:500;margin-top:2px}

.hero{text-align:center}
.hero h2{font-size:1.4rem;font-weight:700;margin-bottom:6px;line-height:1.3}
.hero .highlight{background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.hero p{color:var(--text-dim);font-size:.9rem;line-height:1.5;max-width:360px;margin:0 auto}

.card{background:linear-gradient(135deg,var(--card) 0%,rgba(20,20,40,.9) 100%);border:1px solid var(--card-border);border-radius:20px;padding:20px;width:100%;backdrop-filter:blur(20px);box-shadow:0 16px 50px rgba(0,0,0,.5)}

.online-count{display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:14px;font-size:.9rem;color:var(--text-dim)}
.pulse{width:8px;height:8px;background:var(--success);border-radius:50%;animation:pulse 2s infinite}
@keyframes pulse{0%{box-shadow:0 0 0 0 rgba(34,197,94,.7)}70%{box-shadow:0 0 0 8px rgba(34,197,94,0)}100%{box-shadow:0 0 0 0 rgba(34,197,94,0)}}
.online-count span:last-child{color:var(--success);font-weight:600}

.input-wrap{position:relative;margin-bottom:14px}
.input-wrap input{width:100%;padding:14px 16px 14px 48px;background:var(--input);border:2px solid var(--card-border);border-radius:14px;color:var(--text);font-size:1rem;font-family:inherit;transition:.3s}
.input-wrap input:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(99,102,241,.2)}
.input-wrap input::placeholder{color:#666}
.input-icon{position:absolute;left:16px;top:50%;transform:translateY(-50%);font-size:1.2rem}

.mode-tabs{display:flex;gap:10px;margin-bottom:14px}
.tab{flex:1;padding:12px 10px;background:var(--input);border:2px solid var(--card-border);border-radius:14px;color:var(--text-dim);cursor:pointer;transition:.3s;display:flex;align-items:center;gap:10px}
.tab:hover{border-color:#333}
.tab.active{background:rgba(99,102,241,.15);border-color:var(--primary);color:var(--text)}
.tab-icon{font-size:1.5rem}
.tab-text{text-align:left}
.tab-text strong{display:block;font-size:.9rem;font-weight:600}
.tab-text small{font-size:.75rem;color:var(--text-dim);font-weight:400}
.tab.active .tab-text small{color:var(--primary)}

.start-btn{width:100%;padding:16px 24px;background:linear-gradient(135deg,var(--primary) 0%,var(--accent) 100%);border:none;border-radius:14px;color:#fff;font-size:1rem;font-weight:700;font-family:inherit;cursor:pointer;transition:.3s;display:flex;align-items:center;justify-content:center;gap:10px;text-transform:uppercase;letter-spacing:.5px}
.start-btn:disabled{opacity:.4;cursor:not-allowed}
.start-btn:not(:disabled):hover{transform:translateY(-2px);box-shadow:0 12px 35px var(--primary-glow)}
.start-btn .arrow{font-size:1.2rem;transition:.3s}

.features{display:none}
.footer{color:#555;font-size:.75rem;text-align:center;padding-top:12px}

/* Chat Screen */
#chat-screen{flex-direction:column;background:var(--bg);height:100%}
.chat-header{display:flex;align-items:center;gap:10px;padding:12px 14px;background:var(--card);border-bottom:1px solid var(--card-border);flex-shrink:0}
.btn-icon{width:40px;height:40px;min-width:40px;background:var(--input);border:2px solid var(--card-border);border-radius:10px;color:var(--text);font-size:1.2rem;cursor:pointer;transition:.2s;display:flex;align-items:center;justify-content:center}
.btn-icon:hover{background:var(--primary);border-color:var(--primary)}
.user-info{display:flex;align-items:center;gap:10px;flex:1;min-width:0}
.avatar{width:40px;height:40px;min-width:40px;background:linear-gradient(135deg,var(--primary),var(--accent));border-radius:12px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1rem}
.user-details{flex:1;min-width:0}
.name{font-weight:700;font-size:1rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.status{font-size:.8rem;color:var(--text-dim)}
.status.online{color:var(--success)}
.btn-next{display:flex;align-items:center;gap:6px;padding:10px 14px;background:var(--input);border:2px solid var(--card-border);border-radius:10px;color:var(--text);font-size:.9rem;font-weight:600;font-family:inherit;cursor:pointer;transition:.2s;flex-shrink:0}
.btn-next:disabled{opacity:.4;cursor:not-allowed}
.btn-next:not(:disabled):hover{background:var(--primary);border-color:var(--primary)}

.chat-main{flex:1;display:flex;flex-direction:column;overflow:hidden;min-height:0}

/* Video */
.video-area{height:45%;min-height:180px;background:#000;position:relative;display:flex;align-items:center;justify-content:center;flex-shrink:0}
.video-area.hidden{display:none}
.video-area>video{width:100%;height:100%;object-fit:cover}
.video-placeholder{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:var(--card);color:var(--text-dim)}
.video-placeholder.hidden{display:none}
.video-placeholder span{font-size:2.5rem;margin-bottom:8px}
.video-placeholder p{font-size:.9rem}
.pip{position:absolute;bottom:60px;right:12px;width:80px;height:110px;border-radius:12px;overflow:hidden;border:2px solid var(--card);box-shadow:0 6px 20px rgba(0,0,0,.6)}
.pip video{width:100%;height:100%;object-fit:cover;transform:scaleX(-1)}
.pip-label{position:absolute;bottom:6px;left:6px;background:rgba(0,0,0,.7);padding:3px 8px;border-radius:6px;font-size:.7rem;font-weight:600}
.video-btns{position:absolute;bottom:12px;left:50%;transform:translateX(-50%);display:flex;gap:10px}
.ctrl-btn{width:44px;height:44px;border-radius:50%;border:none;background:var(--card);color:var(--text);font-size:1.1rem;cursor:pointer;transition:.2s;box-shadow:0 4px 12px rgba(0,0,0,.4)}
.ctrl-btn .off{display:none}
.ctrl-btn:not(.active){background:var(--danger)}
.ctrl-btn:not(.active) .on{display:none}
.ctrl-btn:not(.active) .off{display:block}
.ctrl-btn:hover{transform:scale(1.1)}

/* Messages */
.messages-area{flex:1;display:flex;flex-direction:column;padding:12px;overflow:hidden;min-height:0}
.messages{flex:1;overflow-y:auto;display:flex;flex-direction:column;gap:10px;-webkit-overflow-scrolling:touch}
.messages::-webkit-scrollbar{width:4px}
.messages::-webkit-scrollbar-thumb{background:#333;border-radius:2px}
.message{max-width:80%;padding:12px 14px;border-radius:16px;font-size:.9rem;line-height:1.4;animation:msgIn .25s ease;word-wrap:break-word}
@keyframes msgIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
.message.sent{align-self:flex-end;background:linear-gradient(135deg,var(--primary),var(--accent));border-bottom-right-radius:4px}
.message.received{align-self:flex-start;background:var(--card);border:1px solid var(--card-border);border-bottom-left-radius:4px}
.message .sender{font-size:.75rem;font-weight:600;margin-bottom:3px;opacity:.8}
.message.system{align-self:center;background:rgba(99,102,241,.1);color:var(--text-dim);font-size:.8rem;padding:8px 14px;border:1px dashed var(--card-border);border-radius:16px;max-width:90%;text-align:center}
.typing{display:flex;align-items:center;gap:6px;padding:10px 14px;background:var(--card);border-radius:16px;width:fit-content}
.typing.hidden{display:none}
.typing span{width:6px;height:6px;background:var(--text-dim);border-radius:50%;animation:dot 1.4s infinite}
.typing span:nth-child(2){animation-delay:.2s}
.typing span:nth-child(3){animation-delay:.4s}
.typing p{font-size:.8rem;color:var(--text-dim);margin:0}
@keyframes dot{0%,60%,100%{transform:translateY(0)}30%{transform:translateY(-5px)}}

/* Chat Input - Fixed at bottom */
.chat-input{display:flex;gap:10px;padding:12px 14px;background:var(--card);border-top:1px solid var(--card-border);flex-shrink:0}
.chat-input input{flex:1;min-width:0;padding:12px 14px;background:var(--input);border:2px solid var(--card-border);border-radius:12px;color:var(--text);font-size:.95rem;font-family:inherit;transition:.2s}
.chat-input input:focus{outline:none;border-color:var(--primary)}
.chat-input input:disabled{opacity:.4}
.chat-input input::placeholder{color:#555}
.btn-send{display:flex;align-items:center;justify-content:center;min-width:48px;height:48px;padding:0 14px;background:linear-gradient(135deg,var(--primary),var(--accent));border:none;border-radius:12px;color:#fff;font-size:1.1rem;font-weight:600;font-family:inherit;cursor:pointer;transition:.2s;flex-shrink:0}
.btn-send:disabled{opacity:.4;cursor:not-allowed}
.btn-send:not(:disabled):hover{transform:scale(1.05)}
.btn-send span:first-child{display:none}

/* Desktop */
@media(min-width:768px){
    .landing-wrapper{padding:24px;gap:20px}
    .logo-box{width:80px;height:80px;font-size:40px}
    .brand h1{font-size:2.8rem}
    .tagline{font-size:1.1rem}
    .hero h2{font-size:1.8rem}
    .hero p{font-size:1rem}
    .card{padding:28px;border-radius:28px}
    .input-wrap input{padding:18px 20px 18px 56px;font-size:1.1rem}
    .input-icon{left:20px;font-size:1.4rem}
    .tab{padding:16px}
    .tab-icon{font-size:1.8rem}
    .tab-text strong{font-size:1rem}
    .start-btn{padding:20px 32px;font-size:1.2rem}
    .features{display:flex;gap:16px;flex-wrap:wrap;justify-content:center;margin-top:8px}
    .feature{display:flex;align-items:center;gap:12px;background:rgba(255,255,255,.03);border:1px solid var(--card-border);padding:14px 18px;border-radius:16px;flex:1;min-width:150px}
    .feature-icon{font-size:1.6rem}
    .feature strong{display:block;font-size:.95rem;font-weight:600;margin-bottom:2px}
    .feature p{font-size:.8rem;color:var(--text-dim);margin:0}
    .chat-header{padding:16px 20px;gap:14px}
    .btn-icon{width:44px;height:44px;min-width:44px}
    .avatar{width:48px;height:48px;min-width:48px}
    .name{font-size:1.1rem}
    .btn-next{padding:12px 20px;font-size:1rem}
    .messages-area{padding:20px}
    .message{max-width:70%;padding:14px 18px;font-size:1rem}
    .chat-input{padding:16px 20px;gap:12px}
    .chat-input input{padding:16px 20px;font-size:1rem}
    .btn-send{min-width:auto;padding:16px 24px}
    .btn-send span:first-child{display:inline}
    .pip{width:120px;height:160px;bottom:70px;right:16px}
}

/* Small phones */
@media(max-width:380px){
    .landing-wrapper{padding:12px;gap:12px}
    .logo-box{width:56px;height:56px;font-size:28px}
    .brand h1{font-size:1.7rem}
    .tagline{font-size:.8rem}
    .hero h2{font-size:1.2rem}
    .hero p{font-size:.85rem}
    .card{padding:16px;border-radius:16px}
    .online-count{font-size:.8rem;margin-bottom:12px}
    .input-wrap input{padding:12px 14px 12px 42px;font-size:.9rem}
    .input-icon{left:14px;font-size:1rem}
    .tab{padding:10px 8px;gap:8px}
    .tab-icon{font-size:1.3rem}
    .tab-text strong{font-size:.8rem}
    .tab-text small{font-size:.7rem}
    .start-btn{padding:14px 20px;font-size:.9rem}
    .chat-header{padding:10px 12px;gap:8px}
    .btn-icon{width:36px;height:36px;min-width:36px;font-size:1rem}
    .avatar{width:36px;height:36px;min-width:36px;font-size:.9rem}
    .name{font-size:.9rem}
    .status{font-size:.75rem}
    .btn-next{padding:8px 12px;font-size:.8rem}
    .btn-next span:first-child{display:none}
    .messages-area{padding:10px}
    .message{padding:10px 12px;font-size:.85rem}
    .chat-input{padding:10px 12px;gap:8px}
    .chat-input input{padding:10px 12px;font-size:.9rem;border-radius:10px}
    .btn-send{min-width:44px;height:44px;border-radius:10px}
    .pip{width:70px;height:95px;bottom:55px;right:8px}
}

/* Landscape phones */
@media(max-height:500px){
    .landing-wrapper{justify-content:flex-start;padding-top:10px;gap:10px}
    .logo-box{width:48px;height:48px;font-size:24px;margin-bottom:8px}
    .brand h1{font-size:1.5rem}
    .tagline,.hero{display:none}
    .card{padding:14px}
    .online-count{margin-bottom:10px}
    .mode-tabs{margin-bottom:10px}
    .start-btn{padding:12px}
    .footer{display:none}
}
